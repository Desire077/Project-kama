<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Réinitialisation du mot de passe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3b82f6",
              secondary: "#1e40af",
              accent: "#f97316",
              dark: "#0f172a",
              light: "#f8fafc",
            },
          },
        },
      };
    </script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 1rem;
      }

      .card {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.2);
      }

      .input-field:focus {
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
      }

      .password-strength {
        height: 5px;
        border-radius: 3px;
        transition: all 0.3s ease;
      }

      .step-indicator {
        transition: all 0.3s ease;
      }

      .step-indicator.active {
        background-color: #3b82f6;
        color: white;
      }

      .step-indicator.completed {
        background-color: #10b981;
        color: white;
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <div class="w-full max-w-md">
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-lock text-blue-600 text-2xl"></i>
        </div>
        <h1 class="text-3xl font-bold text-gray-800">Réinitialisation du mot de passe</h1>
        <p class="text-gray-600 mt-2">Suivez les étapes pour récupérer votre compte</p>
      </div>

      <!-- Step Indicator -->
      <div class="flex justify-between mb-8 relative">
        <div class="absolute top-1/2 left-0 right-0 h-1 bg-gray-200 -z-10"></div>
        <div class="step-indicator active w-8 h-8 rounded-full flex items-center justify-center font-bold">1</div>
        <div class="step-indicator w-8 h-8 rounded-full flex items-center justify-center font-bold">2</div>
        <div class="step-indicator w-8 h-8 rounded-full flex items-center justify-center font-bold">3</div>
      </div>

      <!-- Main Card -->
      <div class="bg-white rounded-2xl card p-6 md:p-8">
        <!-- Step 1: Request Reset -->
        <div id="step1" class="fade-in">
          <h2 class="text-xl font-bold text-gray-800 mb-2">Identifiez votre compte</h2>
          <p class="text-gray-600 mb-6">Entrez votre adresse email pour recevoir un lien de réinitialisation</p>

          <form id="resetForm">
            <div class="mb-4">
              <label for="email" class="block text-gray-700 font-medium mb-2">Adresse email</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-envelope text-gray-400"></i>
                </div>
                <input
                  type="email"
                  id="email"
                  class="input-field w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="votre@email.com"
                  required />
              </div>
            </div>

            <div class="flex items-center mb-6">
              <input type="checkbox" id="recaptcha" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" required />
              <label for="recaptcha" class="ml-2 text-gray-700 text-sm"> Je ne suis pas un robot <i class="fas fa-robot text-gray-500 ml-1"></i> </label>
            </div>

            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300">
              Envoyer le lien de réinitialisation
            </button>
          </form>

          <div class="mt-6 p-4 bg-blue-50 rounded-lg">
            <p class="text-sm text-blue-800">
              <i class="fas fa-info-circle mr-2"></i>
              Vous recevrez un lien de réinitialisation si cet email correspond à un compte existant. Vérifiez votre dossier spam.
            </p>
          </div>
        </div>

        <!-- Step 2: Verification -->
        <div id="step2" class="hidden fade-in">
          <h2 class="text-xl font-bold text-gray-800 mb-2">Vérification</h2>
          <p class="text-gray-600 mb-6">Entrez le code de vérification envoyé à votre email</p>

          <div class="mb-6">
            <label class="block text-gray-700 font-medium mb-2">Code de vérification</label>
            <div class="flex space-x-3 justify-center">
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
              <input type="text" maxlength="1" class="w-12 h-12 text-center text-2xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" />
            </div>
          </div>

          <button id="verifyBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300">
            Vérifier le code
          </button>

          <div class="mt-4 text-center">
            <p class="text-gray-600 text-sm">
              Vous n'avez pas reçu de code ?
              <a href="#" class="text-blue-600 hover:underline">Renvoyer le code</a>
            </p>
          </div>
        </div>

        <!-- Step 3: New Password -->
        <div id="step3" class="hidden fade-in">
          <h2 class="text-xl font-bold text-gray-800 mb-2">Nouveau mot de passe</h2>
          <p class="text-gray-600 mb-6">Créez un mot de passe fort et sécurisé</p>

          <form id="newPasswordForm">
            <div class="mb-4">
              <label for="newPassword" class="block text-gray-700 font-medium mb-2">Nouveau mot de passe</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-lock text-gray-400"></i>
                </div>
                <input
                  type="password"
                  id="newPassword"
                  class="input-field w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="••••••••"
                  required />
                <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center" id="togglePassword">
                  <i class="fas fa-eye text-gray-400 hover:text-gray-600"></i>
                </button>
              </div>
              <div class="mt-2">
                <div class="password-strength bg-gray-200 w-full rounded"></div>
                <div class="flex justify-between text-xs text-gray-500 mt-1">
                  <span>Faible</span>
                  <span>Fort</span>
                </div>
              </div>
            </div>

            <div class="mb-6">
              <label for="confirmPassword" class="block text-gray-700 font-medium mb-2">Confirmer le mot de passe</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-lock text-gray-400"></i>
                </div>
                <input
                  type="password"
                  id="confirmPassword"
                  class="input-field w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="••••••••"
                  required />
                <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center" id="toggleConfirmPassword">
                  <i class="fas fa-eye text-gray-400 hover:text-gray-600"></i>
                </button>
              </div>
              <div id="passwordMatch" class="text-sm mt-1"></div>
            </div>

            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300">
              Réinitialiser le mot de passe
            </button>
          </form>
        </div>

        <!-- Success Message -->
        <div id="successMessage" class="hidden fade-in text-center py-6">
          <div class="mx-auto bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-4">
            <i class="fas fa-check text-green-600 text-2xl"></i>
          </div>
          <h2 class="text-xl font-bold text-gray-800 mb-2">Mot de passe réinitialisé !</h2>
          <p class="text-gray-600 mb-6">Votre mot de passe a été changé avec succès.</p>
          <a href="connexion.html" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300">
            Se connecter
          </a>
        </div>
      </div>

      <!-- Security Notice -->
      <div class="mt-6 text-center text-xs text-gray-500">
        <p>
          <i class="fas fa-shield-alt mr-1"></i>
          Pour votre sécurité, nous ne vous dirons jamais si un email existe ou non dans notre base de données. Si vous avez un compte, vous recevrez un lien de
          réinitialisation. Sinon, créez un nouveau compte.
        </p>
      </div>
    </div>

    <script>
      // DOM Elements
      const step1 = document.getElementById("step1");
      const step2 = document.getElementById("step2");
      const step3 = document.getElementById("step3");
      const successMessage = document.getElementById("successMessage");
      const resetForm = document.getElementById("resetForm");
      const newPasswordForm = document.getElementById("newPasswordForm");
      const verifyBtn = document.getElementById("verifyBtn");
      const newPasswordInput = document.getElementById("newPassword");
      const confirmPasswordInput = document.getElementById("confirmPassword");
      const passwordMatch = document.getElementById("passwordMatch");
      const togglePassword = document.getElementById("togglePassword");
      const toggleConfirmPassword = document.getElementById("toggleConfirmPassword");
      const stepIndicators = document.querySelectorAll(".step-indicator");
      const passwordStrength = document.querySelector(".password-strength");

      // Navigation functions
      function goToStep(stepNumber) {
        // Hide all steps
        step1.classList.add("hidden");
        step2.classList.add("hidden");
        step3.classList.add("hidden");

        // Show the requested step
        if (stepNumber === 1) step1.classList.remove("hidden");
        if (stepNumber === 2) step2.classList.remove("hidden");
        if (stepNumber === 3) step3.classList.remove("hidden");
        if (stepNumber === 4) successMessage.classList.remove("hidden");

        // Update step indicators
        stepIndicators.forEach((indicator, index) => {
          if (index < stepNumber - 1) {
            indicator.classList.remove("active");
            indicator.classList.add("completed");
          } else if (index === stepNumber - 1) {
            indicator.classList.add("active");
            indicator.classList.remove("completed");
          } else {
            indicator.classList.remove("active", "completed");
          }
        });
      }

      // Password visibility toggle
      function setupPasswordToggle(input, toggleButton) {
        toggleButton.addEventListener("click", () => {
          const type = input.getAttribute("type") === "password" ? "text" : "password";
          input.setAttribute("type", type);
          toggleButton.innerHTML =
            type === "password" ? '<i class="fas fa-eye text-gray-400 hover:text-gray-600"></i>' : '<i class="fas fa-eye-slash text-gray-400 hover:text-gray-600"></i>';
        });
      }

      // Password strength indicator
      function updatePasswordStrength() {
        const password = newPasswordInput.value;
        let strength = 0;

        // Check length
        if (password.length >= 8) strength += 25;
        if (password.length >= 12) strength += 15;

        // Check for lowercase
        if (/[a-z]/.test(password)) strength += 15;

        // Check for uppercase
        if (/[A-Z]/.test(password)) strength += 15;

        // Check for numbers
        if (/\d/.test(password)) strength += 15;

        // Check for special characters
        if (/[^A-Za-z0-9]/.test(password)) strength += 15;

        // Update visual indicator
        passwordStrength.style.width = `${strength}%`;

        if (strength < 40) {
          passwordStrength.className = "password-strength bg-red-500 rounded";
        } else if (strength < 70) {
          passwordStrength.className = "password-strength bg-yellow-500 rounded";
        } else {
          passwordStrength.className = "password-strength bg-green-500 rounded";
        }
      }

      // Password match validation
      function checkPasswordMatch() {
        if (confirmPasswordInput.value === "") {
          passwordMatch.textContent = "";
          return;
        }

        if (newPasswordInput.value === confirmPasswordInput.value) {
          passwordMatch.innerHTML = '<span class="text-green-600"><i class="fas fa-check-circle"></i> Les mots de passe correspondent</span>';
        } else {
          passwordMatch.innerHTML = '<span class="text-red-600"><i class="fas fa-times-circle"></i> Les mots de passe ne correspondent pas</span>';
        }
      }

      // Event Listeners
      resetForm.addEventListener("submit", (e) => {
        e.preventDefault();
        // Simulate API call
        setTimeout(() => {
          goToStep(2);
        }, 800);
      });

      verifyBtn.addEventListener("click", () => {
        // Simulate verification
        setTimeout(() => {
          goToStep(3);
        }, 800);
      });

      newPasswordForm.addEventListener("submit", (e) => {
        e.preventDefault();
        if (newPasswordInput.value !== confirmPasswordInput.value) {
          passwordMatch.innerHTML = '<span class="text-red-600"><i class="fas fa-times-circle"></i> Les mots de passe ne correspondent pas</span>';
          return;
        }

        // Simulate password reset
        setTimeout(() => {
          goToStep(4);
        }, 800);
      });

      newPasswordInput.addEventListener("input", () => {
        updatePasswordStrength();
        checkPasswordMatch();
      });

      confirmPasswordInput.addEventListener("input", checkPasswordMatch);

      setupPasswordToggle(newPasswordInput, togglePassword);
      setupPasswordToggle(confirmPasswordInput, toggleConfirmPassword);

      // Initialize
      goToStep(1);
    </script>
  </body>
</html>
